
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Results Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .header { background: #f5f5f5; padding: 20px; border-radius: 5px; }
        .stats { display: flex; gap: 20px; margin: 20px 0; }
        .stat-card { background: white; border: 1px solid #ddd; padding: 15px; border-radius: 5px; flex: 1; }
        .passed { border-left: 4px solid #28a745; }
        .failed { border-left: 4px solid #dc3545; }
        .pending { border-left: 4px solid #ffc107; }
        .coverage { border-left: 4px solid #17a2b8; }
        .test-file { margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 3px; }
        .failure { color: #dc3545; font-family: monospace; white-space: pre-wrap; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Test Results Report</h1>
        <p>Generated: 2025-09-09T13:54:02.329Z</p>
    </div>

    <div class="stats">
        <div class="stat-card passed">
            <h3>Passed Tests</h3>
            <div style="font-size: 2em; font-weight: bold;">27</div>
        </div>
        <div class="stat-card failed">
            <h3>Failed Tests</h3>
            <div style="font-size: 2em; font-weight: bold;">17</div>
        </div>
        <div class="stat-card pending">
            <h3>Pending Tests</h3>
            <div style="font-size: 2em; font-weight: bold;">0</div>
        </div>
        
        <div class="stat-card coverage">
            <h3>Coverage</h3>
            <div>Lines: 3.5%</div>
            <div>Functions: 1.9%</div>
            <div>Branches: 0.8%</div>
        </div>
        
    </div>

    <h2>Test Files</h2>
    
        <div class="test-file">
            <h4>tests\unit\middleware\security.test.js</h4>
            <p>
                ‚úÖ 0 passed, 
                ‚ùå 0 failed, 
                ‚è≥ 0 pending
                (0ms)
            </p>
            
                <div class="failure">  ‚óè Test suite failed to run

    JWT_SECRET is required but not set

    [0m [90m 25 |[39m     [36mfor[39m ([36mconst[39m secret [36mof[39m requiredSecrets) {
     [90m 26 |[39m       [36mif[39m ([33m![39msecret[33m.[39mvalue) {
    [31m[1m>[22m[39m[90m 27 |[39m         [36mthrow[39m [36mnew[39m [33mError[39m([32m`${secret.name} is required but not set`[39m)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 28 |[39m       }
     [90m 29 |[39m       [36mif[39m (secret[33m.[39mvalue[33m.[39mlength [33m<[39m secret[33m.[39mminLength) {
     [90m 30 |[39m         [36mthrow[39m [36mnew[39m [33mError[39m([32m`${secret.name} must be at least ${secret.minLength} characters long`[39m)[33m;[39m[0m

      at SecurityManager.validateSecrets (E:\web\New folder (2)../../../link-shortener/src/config/security.js:27:15)
      at new validateSecrets (E:\web\New folder (2)../../../link-shortener/src/config/security.js:15:10)
      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/src/config/security.js:367:25)
      at Object.require (E:\web\New folder (2)../../../link-shortener/src/middleware/security.js:8:25)
      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/middleware/security.test.js:2:28)
</div>
            
        </div>
    
        <div class="test-file">
            <h4>tests\url.test.js</h4>
            <p>
                ‚úÖ 0 passed, 
                ‚ùå 0 failed, 
                ‚è≥ 0 pending
                (0ms)
            </p>
            
                <div class="failure">  ‚óè Test suite failed to run

    Cannot find module '../src/routes/urlRoutes' from 'tests/url.test.js'

    [0m [90m 3 |[39m [36mconst[39m { [33mMongoMemoryServer[39m } [33m=[39m require([32m'mongodb-memory-server'[39m)[33m;[39m
     [90m 4 |[39m [36mconst[39m express [33m=[39m require([32m'express'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 5 |[39m [36mconst[39m urlRoutes [33m=[39m require([32m'../src/routes/urlRoutes'[39m)[33m;[39m
     [90m   |[39m                   [31m[1m^[22m[39m
     [90m 6 |[39m [36mconst[39m [33mUrl[39m [33m=[39m require([32m'../src/models/Url'[39m)[33m;[39m
     [90m 7 |[39m
     [90m 8 |[39m jest[33m.[39msetTimeout([35m30000[39m)[33m;[39m[0m

      at Resolver._throwModNotFoundError (E:\web\New folder (2)../../../link-shortener/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/url.test.js:5:19)
</div>
            
        </div>
    
        <div class="test-file">
            <h4>tests\integration\api\urls.test.js</h4>
            <p>
                ‚úÖ 0 passed, 
                ‚ùå 0 failed, 
                ‚è≥ 0 pending
                (0ms)
            </p>
            
                <div class="failure">  ‚óè Test suite failed to run

    JWT_REFRESH_SECRET is required but not set

    [0m [90m 25 |[39m     [36mfor[39m ([36mconst[39m secret [36mof[39m requiredSecrets) {
     [90m 26 |[39m       [36mif[39m ([33m![39msecret[33m.[39mvalue) {
    [31m[1m>[22m[39m[90m 27 |[39m         [36mthrow[39m [36mnew[39m [33mError[39m([32m`${secret.name} is required but not set`[39m)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 28 |[39m       }
     [90m 29 |[39m       [36mif[39m (secret[33m.[39mvalue[33m.[39mlength [33m<[39m secret[33m.[39mminLength) {
     [90m 30 |[39m         [36mthrow[39m [36mnew[39m [33mError[39m([32m`${secret.name} must be at least ${secret.minLength} characters long`[39m)[33m;[39m[0m

      at SecurityManager.validateSecrets (E:\web\New folder (2)../../../link-shortener/src/config/security.js:27:15)
      at new validateSecrets (E:\web\New folder (2)../../../link-shortener/src/config/security.js:15:10)
      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/src/config/security.js:367:25)
      at Object.require (E:\web\New folder (2)../../../link-shortener/src/app.js:13:25)
      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/integration/api/urls.test.js:3:13)
</div>
            
        </div>
    
        <div class="test-file">
            <h4>tests\integration\api\auth.test.js</h4>
            <p>
                ‚úÖ 0 passed, 
                ‚ùå 0 failed, 
                ‚è≥ 0 pending
                (0ms)
            </p>
            
                <div class="failure">  ‚óè Test suite failed to run

    JWT_REFRESH_SECRET is required but not set

    [0m [90m 25 |[39m     [36mfor[39m ([36mconst[39m secret [36mof[39m requiredSecrets) {
     [90m 26 |[39m       [36mif[39m ([33m![39msecret[33m.[39mvalue) {
    [31m[1m>[22m[39m[90m 27 |[39m         [36mthrow[39m [36mnew[39m [33mError[39m([32m`${secret.name} is required but not set`[39m)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 28 |[39m       }
     [90m 29 |[39m       [36mif[39m (secret[33m.[39mvalue[33m.[39mlength [33m<[39m secret[33m.[39mminLength) {
     [90m 30 |[39m         [36mthrow[39m [36mnew[39m [33mError[39m([32m`${secret.name} must be at least ${secret.minLength} characters long`[39m)[33m;[39m[0m

      at SecurityManager.validateSecrets (E:\web\New folder (2)../../../link-shortener/src/config/security.js:27:15)
      at new validateSecrets (E:\web\New folder (2)../../../link-shortener/src/config/security.js:15:10)
      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/src/config/security.js:367:25)
      at Object.require (E:\web\New folder (2)../../../link-shortener/src/app.js:13:25)
      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/integration/api/auth.test.js:3:13)
</div>
            
        </div>
    
        <div class="test-file">
            <h4>tests\unit\services\urlService.test.js</h4>
            <p>
                ‚úÖ 5 passed, 
                ‚ùå 12 failed, 
                ‚è≥ 0 pending
                (13647ms)
            </p>
            
                <div class="failure">  ‚óè UrlService ‚Ä∫ createShortUrl ‚Ä∫ should create a new short URL successfully

    TypeError: Url.findOne.mockResolvedValue is not a function

    [0m [90m 32 |[39m       }[33m;[39m
     [90m 33 |[39m
    [31m[1m>[22m[39m[90m 34 |[39m       [33mUrl[39m[33m.[39mfindOne[33m.[39mmockResolvedValue([36mnull[39m)[33m;[39m [90m// No existing URL[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 35 |[39m       [33mUrl[39m[33m.[39mmockImplementation(() [33m=>[39m mockUrl)[33m;[39m
     [90m 36 |[39m       cacheService[33m.[39mcacheUrl[33m.[39mmockResolvedValue([36mtrue[39m)[33m;[39m
     [90m 37 |[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:34:19)

  ‚óè UrlService ‚Ä∫ createShortUrl ‚Ä∫ should return existing URL if duplicate found

    TypeError: Url.findOne.mockResolvedValue is not a function

    [0m [90m 60 |[39m       }[33m;[39m
     [90m 61 |[39m
    [31m[1m>[22m[39m[90m 62 |[39m       [33mUrl[39m[33m.[39mfindOne[33m.[39mmockResolvedValue(existingUrl)[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 63 |[39m       cacheService[33m.[39mcacheUrl[33m.[39mmockResolvedValue([36mtrue[39m)[33m;[39m
     [90m 64 |[39m
     [90m 65 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m urlService[33m.[39mcreateShortUrl(urlData[33m,[39m userId)[33m;[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:62:19)

  ‚óè UrlService ‚Ä∫ createShortUrl ‚Ä∫ should throw error for invalid custom alias

    TypeError: Url.findOne.mockResolvedValueOnce is not a function

    [0m [90m 77 |[39m
     [90m 78 |[39m       [90m// Mock alias already exists[39m
    [31m[1m>[22m[39m[90m 79 |[39m       [33mUrl[39m[33m.[39mfindOne[33m.[39mmockResolvedValueOnce([36mnull[39m)[33m;[39m [90m// No existing URL[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 80 |[39m       [33mUrl[39m[33m.[39mfindOne[33m.[39mmockResolvedValueOnce({ shortCode[33m:[39m [32m'taken'[39m })[33m;[39m [90m// Alias exists[39m
     [90m 81 |[39m
     [90m 82 |[39m       [36mawait[39m expect(urlService[33m.[39mcreateShortUrl(urlData[33m,[39m userId))[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:79:19)

  ‚óè UrlService ‚Ä∫ getUrlByShortCode ‚Ä∫ should return cached URL if available

    TypeError: cacheService.getCachedUrl.mockResolvedValue is not a function

    [0m [90m  95 |[39m       }[33m;[39m
     [90m  96 |[39m
    [31m[1m>[22m[39m[90m  97 |[39m       cacheService[33m.[39mgetCachedUrl[33m.[39mmockResolvedValue(cachedUrl)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m  98 |[39m
     [90m  99 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m urlService[33m.[39mgetUrlByShortCode(shortCode)[33m;[39m
     [90m 100 |[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:97:33)

  ‚óè UrlService ‚Ä∫ getUrlByShortCode ‚Ä∫ should fetch from database if not cached

    TypeError: cacheService.getCachedUrl.mockResolvedValue is not a function

    [0m [90m 114 |[39m       }[33m;[39m
     [90m 115 |[39m
    [31m[1m>[22m[39m[90m 116 |[39m       cacheService[33m.[39mgetCachedUrl[33m.[39mmockResolvedValue([36mnull[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 117 |[39m       [33mUrl[39m[33m.[39mfindOne[33m.[39mmockReturnValue({
     [90m 118 |[39m         populate[33m:[39m jest[33m.[39mfn()[33m.[39mmockResolvedValue(dbUrl)
     [90m 119 |[39m       })[33m;[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:116:33)

  ‚óè UrlService ‚Ä∫ getUrlByShortCode ‚Ä∫ should throw NotFoundError if URL not found

    TypeError: cacheService.getCachedUrl.mockResolvedValue is not a function

    [0m [90m 133 |[39m       [36mconst[39m shortCode [33m=[39m [32m'notfound'[39m[33m;[39m
     [90m 134 |[39m
    [31m[1m>[22m[39m[90m 135 |[39m       cacheService[33m.[39mgetCachedUrl[33m.[39mmockResolvedValue([36mnull[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 136 |[39m       [33mUrl[39m[33m.[39mfindOne[33m.[39mmockReturnValue({
     [90m 137 |[39m         populate[33m:[39m jest[33m.[39mfn()[33m.[39mmockResolvedValue([36mnull[39m)
     [90m 138 |[39m       })[33m;[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:135:33)

  ‚óè UrlService ‚Ä∫ updateUrl ‚Ä∫ should update URL successfully

    TypeError: Url.findOne.mockResolvedValue is not a function

    [0m [90m 161 |[39m       }[33m;[39m
     [90m 162 |[39m
    [31m[1m>[22m[39m[90m 163 |[39m       [33mUrl[39m[33m.[39mfindOne[33m.[39mmockResolvedValue(mockUrl)[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 164 |[39m       cacheService[33m.[39mcacheUrl[33m.[39mmockResolvedValue([36mtrue[39m)[33m;[39m
     [90m 165 |[39m       cacheService[33m.[39minvalidateAnalytics[33m.[39mmockResolvedValue([36mtrue[39m)[33m;[39m
     [90m 166 |[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:163:19)

  ‚óè UrlService ‚Ä∫ updateUrl ‚Ä∫ should throw NotFoundError if URL not found

    TypeError: Url.findOne.mockResolvedValue is not a function

    [0m [90m 179 |[39m       [36mconst[39m updateData [33m=[39m { title[33m:[39m [32m'New Title'[39m }[33m;[39m
     [90m 180 |[39m
    [31m[1m>[22m[39m[90m 181 |[39m       [33mUrl[39m[33m.[39mfindOne[33m.[39mmockResolvedValue([36mnull[39m)[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 182 |[39m
     [90m 183 |[39m       [36mawait[39m expect(urlService[33m.[39mupdateUrl(shortCode[33m,[39m updateData[33m,[39m userId))
     [90m 184 |[39m         [33m.[39mrejects[33m.[39mtoThrow([32m'URL not found'[39m)[33m;[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:181:19)

  ‚óè UrlService ‚Ä∫ deleteUrl ‚Ä∫ should soft delete URL successfully

    TypeError: Url.findOne.mockResolvedValue is not a function

    [0m [90m 200 |[39m       }[33m;[39m
     [90m 201 |[39m
    [31m[1m>[22m[39m[90m 202 |[39m       [33mUrl[39m[33m.[39mfindOne[33m.[39mmockResolvedValue(mockUrl)[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 203 |[39m       cacheService[33m.[39minvalidateUrl[33m.[39mmockResolvedValue([36mtrue[39m)[33m;[39m
     [90m 204 |[39m       cacheService[33m.[39minvalidateAnalytics[33m.[39mmockResolvedValue([36mtrue[39m)[33m;[39m
     [90m 205 |[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:202:19)

  ‚óè UrlService ‚Ä∫ trackClick ‚Ä∫ should track click and update URL stats

    TypeError: cacheService.cacheUrl.mockResolvedValue is not a function

    [0m [90m 233 |[39m       jest[33m.[39mspyOn(urlService[33m,[39m [32m'getUrlByShortCode'[39m)[33m.[39mmockResolvedValue(mockUrl)[33m;[39m
     [90m 234 |[39m       jest[33m.[39mspyOn(urlService[33m,[39m [32m'trackAnalytics'[39m)[33m.[39mmockResolvedValue([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 235 |[39m       cacheService[33m.[39mcacheUrl[33m.[39mmockResolvedValue([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 236 |[39m
     [90m 237 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m urlService[33m.[39mtrackClick(shortCode[33m,[39m clickData)[33m;[39m
     [90m 238 |[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:235:29)

  ‚óè UrlService ‚Ä∫ checkAliasAvailability ‚Ä∫ should return true if alias is available

    TypeError: Url.findOne.mockResolvedValue is not a function

    [0m [90m 280 |[39m       [36mconst[39m alias [33m=[39m [32m'available'[39m[33m;[39m
     [90m 281 |[39m
    [31m[1m>[22m[39m[90m 282 |[39m       [33mUrl[39m[33m.[39mfindOne[33m.[39mmockResolvedValue([36mnull[39m)[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 283 |[39m
     [90m 284 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m urlService[33m.[39mcheckAliasAvailability(alias)[33m;[39m
     [90m 285 |[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:282:19)

  ‚óè UrlService ‚Ä∫ checkAliasAvailability ‚Ä∫ should return false if alias is taken

    TypeError: Url.findOne.mockResolvedValue is not a function

    [0m [90m 297 |[39m       [36mconst[39m alias [33m=[39m [32m'taken'[39m[33m;[39m
     [90m 298 |[39m
    [31m[1m>[22m[39m[90m 299 |[39m       [33mUrl[39m[33m.[39mfindOne[33m.[39mmockResolvedValue({ shortCode[33m:[39m alias })[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 300 |[39m
     [90m 301 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m urlService[33m.[39mcheckAliasAvailability(alias)[33m;[39m
     [90m 302 |[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/services/urlService.test.js:299:19)
</div>
            
        </div>
    
        <div class="test-file">
            <h4>tests\unit\models\User.test.js</h4>
            <p>
                ‚úÖ 22 passed, 
                ‚ùå 5 failed, 
                ‚è≥ 0 pending
                (33704ms)
            </p>
            
                <div class="failure">  ‚óè User Model ‚Ä∫ Instance Methods ‚Ä∫ comparePassword ‚Ä∫ should handle null password

    Illegal arguments: object, string

    [0m [90m 100 |[39m [33mUserSchema[39m[33m.[39mmethods[33m.[39mcomparePassword [33m=[39m [36masync[39m [36mfunction[39m(candidatePassword) {
     [90m 101 |[39m   [36mif[39m ([33m![39m[36mthis[39m[33m.[39mpassword) [36mreturn[39m [36mfalse[39m[33m;[39m [90m// Google users don't have passwords[39m
    [31m[1m>[22m[39m[90m 102 |[39m   [36mreturn[39m [36mawait[39m bcrypt[33m.[39mcompare(candidatePassword[33m,[39m [36mthis[39m[33m.[39mpassword)[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 103 |[39m }[33m;[39m
     [90m 104 |[39m
     [90m 105 |[39m [90m// Method to get user data without sensitive fields[39m[0m

      at _async (E:\web\New folder (2)../../../link-shortener/node_modules/bcryptjs/dist/bcrypt.js:286:46)
      at E:\web\New folder (2)../../../link-shortener/node_modules/bcryptjs/dist/bcrypt.js:307:17
      at Object.bcrypt.compare (E:\web\New folder (2)../../../link-shortener/node_modules/bcryptjs/dist/bcrypt.js:306:20)
      at model.compare [as comparePassword] (E:\web\New folder (2)../../../link-shortener/src/models/User.js:102:23)
      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/models/User.test.js:172:36)

  ‚óè User Model ‚Ä∫ Instance Methods ‚Ä∫ toJSON ‚Ä∫ should exclude password from JSON output

    expect(received).toHaveProperty(path)

    Expected path: "id"
    Received path: []

    Received value: {"__v": 0, "_id": "68c0316ded1758a77cfc5da5", "createdAt": 2025-09-09T13:53:49.720Z, "email": "test@example.com", "isActive": true, "role": "user", "updatedAt": 2025-09-09T13:53:49.720Z, "username": "testuser"}

    [0m [90m 179 |[39m         [36mconst[39m json [33m=[39m user[33m.[39mtoJSON()[33m;[39m
     [90m 180 |[39m         
    [31m[1m>[22m[39m[90m 181 |[39m         expect(json)[33m.[39mtoHaveProperty([32m'id'[39m)[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 182 |[39m         expect(json)[33m.[39mtoHaveProperty([32m'username'[39m)[33m;[39m
     [90m 183 |[39m         expect(json)[33m.[39mtoHaveProperty([32m'email'[39m)[33m;[39m
     [90m 184 |[39m         expect(json)[33m.[39mtoHaveProperty([32m'role'[39m)[33m;[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/models/User.test.js:181:22)

  ‚óè User Model ‚Ä∫ Instance Methods ‚Ä∫ toJSON ‚Ä∫ should include virtual id field

    expect(received).toBe(expected) // Object.is equality

    Expected: "68c0316eed1758a77cfc5da8"
    Received: undefined

    [0m [90m 190 |[39m         [36mconst[39m json [33m=[39m user[33m.[39mtoJSON()[33m;[39m
     [90m 191 |[39m         
    [31m[1m>[22m[39m[90m 192 |[39m         expect(json[33m.[39mid)[33m.[39mtoBe(user[33m.[39m_id[33m.[39mtoString())[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 193 |[39m       })[33m;[39m
     [90m 194 |[39m     })[33m;[39m
     [90m 195 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/models/User.test.js:192:25)

  ‚óè User Model ‚Ä∫ Google OAuth Fields ‚Ä∫ should save user with Google OAuth data

    expect(received).toBe(expected) // Object.is equality

    Expected: "google"
    Received: undefined

    [0m [90m 210 |[39m       expect(savedUser[33m.[39mgoogleId)[33m.[39mtoBe(userData[33m.[39mgoogleId)[33m;[39m
     [90m 211 |[39m       expect(savedUser[33m.[39mavatar)[33m.[39mtoBe(userData[33m.[39mavatar)[33m;[39m
    [31m[1m>[22m[39m[90m 212 |[39m       expect(savedUser[33m.[39mprovider)[33m.[39mtoBe(userData[33m.[39mprovider)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 213 |[39m       expect(savedUser[33m.[39mpassword)[33m.[39mtoBeUndefined()[33m;[39m [90m// No password for OAuth users[39m
     [90m 214 |[39m     })[33m;[39m
     [90m 215 |[39m[0m

      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/models/User.test.js:212:34)

  ‚óè User Model ‚Ä∫ User Roles ‚Ä∫ should reject invalid role

    expect(received).rejects.toThrow(expected)

    Expected pattern: /role.*enum/i
    Received message: "User validation failed: role: Role must be either user or admin"

      at model.Object.<anonymous>.Document.invalidate (E:\web\New folder (2)../../../link-shortener/node_modules/mongoose/lib/document.js:3358:32)
      at E:\web\New folder (2)../../../link-shortener/node_modules/mongoose/lib/document.js:3119:17
      at E:\web\New folder (2)../../../link-shortener/node_modules/mongoose/lib/schemaType.js:1416:9
      at Object.toThrow (E:\web\New folder (2)../../../link-shortener/node_modules/expect/build/index.js:218:22)
      at Object.<anonymous> (E:\web\New folder (2)../../../link-shortener/tests/unit/models/User.test.js:266:41)
</div>
            
        </div>
    
</body>
</html>
  